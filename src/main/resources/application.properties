# =============================================================================
# Quarkus URL Shortener Microservice Configuration
# =============================================================================

# Application Information
quarkus.application.name=url-shortener-quarkus
quarkus.application.version=1.0-SNAPSHOT

# =============================================================================
# Database Configuration - H2 In-Memory (Zero Setup Required)
# =============================================================================

# H2 Database Configuration
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
quarkus.datasource.username=sa
quarkus.datasource.password=

# Hibernate ORM Configuration
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file

# H2 Console for Development (NEVER enable in production)
quarkus.h2.console.enabled=true

# =============================================================================
# OpenAPI/Swagger Configuration
# =============================================================================

# OpenAPI Documentation
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui
mp.openapi.extensions.smallrye.info.title=URL Shortener API
mp.openapi.extensions.smallrye.info.version=1.0.0
mp.openapi.extensions.smallrye.info.description=A modern URL shortening microservice built with Quarkus
mp.openapi.extensions.smallrye.info.contact.email=support@example.com
mp.openapi.extensions.smallrye.info.license.name=Apache 2.0
mp.openapi.extensions.smallrye.info.license.url=https://www.apache.org/licenses/LICENSE-2.0.html

# =============================================================================
# Health Check Configuration
# =============================================================================

# Health Check Endpoints
quarkus.smallrye-health.root-path=/q/health
quarkus.smallrye-health.liveness-path=/q/health/live
quarkus.smallrye-health.readiness-path=/q/health/ready

# =============================================================================
# Application-Specific Configuration
# =============================================================================

# Short Code Configuration
app.shortcode.length=6
app.shortcode.alphabet=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789

# Base URL for generating full short URLs
app.base-url=http://localhost:8080

# URL Validation Configuration
app.url.validation.enabled=true
app.url.validation.timeout-seconds=5

# =============================================================================
# Logging Configuration
# =============================================================================

# Root logging level
quarkus.log.level=INFO

# Application logging
quarkus.log.category."com.example.urlshortener".level=DEBUG

# Hibernate logging (uncomment for SQL debugging)
# quarkus.log.category."org.hibernate.SQL".level=DEBUG
# quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE

# =============================================================================
# Development Configuration
# =============================================================================


#The %dev. prefix means these properties are applied only when Quarkus is running in development mode (quarkus:dev).

#The %test. prefix means these properties are applied only when tests are running (like with mvn test).

# Dev mode settings (automatically applied in dev mode)
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.log.category."com.example.urlshortener".level=DEBUG

# Development CORS (allow all origins in dev mode)
%dev.quarkus.http.cors=true
%dev.quarkus.http.cors.origins=*

# =============================================================================
# Test Configuration
# =============================================================================

# Test profile settings (automatically applied during testing)
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:test-db;DB_CLOSE_DELAY=-1
%test.app.base-url=http://localhost:8081
